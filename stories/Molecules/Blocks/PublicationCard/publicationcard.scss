@import '../../../assets/scss/breakpoints';
@import '../../../assets/scss/variables';
@import '../../../assets/scss/mixins';

$colors: ('yellow': $color-yellow, 'red': $color-red, 'green': $color-green, 'blue': $color-azure);

div.publication-card {
  display: inline-block;

  @include devicebreak(medium) {
    min-width: 20.625rem;
  }

  &:hover {
    .publication-thumbnail__image {
      @each $name, $color in $colors {
        &.#{$name}:after {
          @include background-image(42deg, #{$color}, transparent 80%);

          opacity: 0.75;
        }
      }
    }
  }

  &__description {
    align-items: center;
    background: $color-gray-100;
    padding: $spacing-24;

    .description-grid {
      align-items: center;
      flex-wrap: unset;

      > :not(:first-of-type) {
        border-left: $spacing-02 solid $color-silvery-moonlight;
        text-align: right;
      }
    }
  }

  &__title {
    @extend %paragragh-font-20;

    margin-bottom: $spacing-04;
  }

  &__format {
    @extend %paragragh-font-16;

    color: $color-gray-600;
    margin-bottom: $spacing-16;
  }

  &__download {
    @extend %paragragh-font-16;

    align-items: center;
    background-image: none;
    cursor: pointer;
    display: inline-flex;
    font-weight: 700;
    letter-spacing: 0.03em;
    text-transform: uppercase;

    .download-icon {
      margin-left: $spacing-12;
    }

    &:hover {
      color: $color-shuttle-gray;

      .download-icon {
        &:after {
          @include transform(rotate(-45deg) translate(7px, -7px));
        }
        &:before {
          @include transform(translate(0, -10px));
        }
      }
    }
  }

  &__readmore {
    @extend %paragragh-font-16;

    align-items: center;
    background-image: none;
    cursor: pointer;
    display: inline;
    font-weight: 700;
    letter-spacing: 0.03em;
    text-transform: uppercase;

    .external-link {
      display: inline-block;
      margin-left: $spacing-12;
    }

    &:hover {
      color: $color-shuttle-gray;

      .external-link {
        &:after {
          @include transform(translate(5px, -5px));
        }
        &:before {
          @include transform(rotate(-45deg) translate(7px, 0));
        }
      }
    }
  }
}

[dir='rtl'] {
  .publication-card {
    &__readmore {
      .external-link {
        margin-left: 0;
        margin-right: $spacing-12;
      }
    }

    &__download {
      .download-icon {
        margin-left: 0;
        margin-right: $spacing-12;
      }
    }

    &__description {
      .description-grid > :not(:first-of-type) {
        border-left: 0;
        border-right: $spacing-02 solid $color-silvery-moonlight;
        text-align: left;
      }
    }

    &:hover {
      .publication-thumbnail__image {
        @each $name, $color in $colors {
          &.#{$name}:after {
            @include background-image(318deg, #{$color}, transparent 80%);

            opacity: 0.75;
          }
        }
      }
    }
  }
}
